#!/bin/bash -e

declare -A output_map

for i in {1..200}; do
    printf 'Run %s\n' "$i" >&2

    while read -r line; do
        price="${line##* }"
        key="${line% *}"
        output_map["$key"]+="$price,"
    done < <(./ACP_assignment)
done

{
for k in "${!output_map[@]}"; do
    printf '%s,%s\n' "$k" "${output_map["$k"]%,}"
done
} | LC_ALL=C sort
